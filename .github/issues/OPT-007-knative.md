# OPT-007: Knative

## Component Requirements

**Component**: Knative  
**Type**: Optional  
**Priority**: Medium  
**Dependencies**: MicroK8s  

## Description

Migrate Knative deployment from thinkube-core to thinkube. Knative provides serverless capabilities for Kubernetes.

## Requirements Analysis

Based on source playbooks analysis:

### Deployment Requirements
1. **Components**:
   - Knative Serving
   - Knative Eventing
   - Kourier ingress
2. **Configuration**:
   - Domain configuration
   - DNS integration
   - Auto-scaling settings

### Key Features
1. **Serverless Functions**:
   - Scale to zero
   - Automatic scaling
   - Event-driven
2. **DNS Integration**:
   - Wildcard domain
   - Service routing

## Migration Plan

### Phase 1: Core Setup
1. Deploy operator: `ansible/40_thinkube/optional/knative/10_operator.yaml`
2. Install serving: `ansible/40_thinkube/optional/knative/20_serving.yaml`
3. Install eventing: `ansible/40_thinkube/optional/knative/30_eventing.yaml`

### Phase 2: Configuration
1. Configure domain: `ansible/40_thinkube/optional/knative/40_domain.yaml`
2. Setup DNS: `ansible/40_thinkube/optional/knative/50_dns.yaml`

### Phase 3: Testing
1. Deploy sample: `ansible/40_thinkube/optional/knative/88_test.yaml`
2. Create rollback: `ansible/40_thinkube/optional/knative/89_rollback.yaml`

## Implementation Checklist

- [ ] Deploy Knative operator
- [ ] Install serving component
- [ ] Install eventing component
- [ ] Configure domain
- [ ] Setup DNS integration
- [ ] Test serverless deployment

## Related Files

**Source Playbook**: `core/110_setup_knative.yaml`  
**Target Directory**: `ansible/40_thinkube/optional/knative/`

---
*Migration tracking for Thinkube platform - Generated by Analysis System*