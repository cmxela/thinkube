# OPT-010: Penpot

## Component Requirements

**Component**: Penpot  
**Type**: Optional  
**Priority**: Low  
**Dependencies**: PostgreSQL, Keycloak  

## Description

Migrate Penpot deployment from thinkube-core to thinkube. Penpot is an open-source design and prototyping platform.

## Requirements Analysis

Based on source playbooks analysis:

### Deployment Requirements
1. **Namespace**: `penpot`
2. **Components**:
   - Frontend application
   - Backend API
   - Exporter service
3. **Dependencies**:
   - PostgreSQL database
   - Redis for caching
4. **Authentication**:
   - Keycloak OIDC integration

### Configuration
1. **Database**: PostgreSQL connection
2. **Storage**: Asset storage configuration
3. **Email**: SMTP settings (optional)
4. **OIDC**: Keycloak integration

## Migration Plan

### Phase 1: Infrastructure
1. Create namespace: `ansible/40_thinkube/optional/penpot/10_namespace.yaml`
2. Configure Keycloak: `ansible/40_thinkube/optional/penpot/20_keycloak.yaml`

### Phase 2: Deployment
1. Deploy backend: `ansible/40_thinkube/optional/penpot/30_backend.yaml`
2. Deploy frontend: `ansible/40_thinkube/optional/penpot/40_frontend.yaml`
3. Setup ingress: `ansible/40_thinkube/optional/penpot/50_ingress.yaml`

### Phase 3: Testing
1. Validate deployment: `ansible/40_thinkube/optional/penpot/88_test.yaml`
2. Create rollback: `ansible/40_thinkube/optional/penpot/89_rollback.yaml`

## Implementation Checklist

- [ ] Create directory structure
- [ ] Configure Keycloak integration
- [ ] Setup database connection
- [ ] Deploy all components
- [ ] Configure storage
- [ ] Test functionality

## Related Files

**Source Playbooks**:
- `services/180_setup_penpot_keycloak.yaml`
- `services/181_setup_penpot.yaml`

**Target Directory**: `ansible/40_thinkube/optional/penpot/`

---
*Migration tracking for Thinkube platform - Generated by Analysis System*